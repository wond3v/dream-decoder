<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸŒ™ Dream Decoder è§£æ¢¦å¤§å¸ˆ â€” æ·±åº¦ç‰ˆ</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸŒ™</text></svg>">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #e8e8e8;
        }
        
        .container { max-width: 800px; margin: 0 auto; padding: 20px; }
        
        header { text-align: center; padding: 40px 0; }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #f9d423, #ff4e50);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subtitle { color: #888; font-size: 1rem; }
        .badge { 
            display: inline-block;
            background: linear-gradient(90deg, #667eea, #764ba2);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            margin-top: 10px;
        }
        
        .search-box {
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
            backdrop-filter: blur(10px);
        }
        
        textarea {
            width: 100%;
            padding: 20px;
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 15px;
            background: rgba(0,0,0,0.3);
            color: #fff;
            font-size: 1.1rem;
            outline: none;
            min-height: 120px;
            resize: vertical;
            transition: border-color 0.3s;
        }
        
        textarea:focus { border-color: #f9d423; }
        textarea::placeholder { color: #666; }
        
        .context-questions {
            margin: 20px 0;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
        }
        
        .context-questions label {
            display: block;
            margin: 10px 0 5px;
            color: #aaa;
        }
        
        .context-questions select, .context-questions input {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 10px;
            background: rgba(0,0,0,0.3);
            color: #fff;
            font-size: 1rem;
        }
        
        button.primary {
            width: 100%;
            padding: 18px;
            margin-top: 20px;
            background: linear-gradient(90deg, #f9d423, #ff4e50);
            border: none;
            border-radius: 15px;
            color: #fff;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        button.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(249, 212, 35, 0.3);
        }
        
        .result {
            background: rgba(255,255,255,0.05);
            border-radius: 20px;
            padding: 30px;
            margin-top: 20px;
            display: none;
            line-height: 1.8;
        }
        
        .result.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .result h2 {
            color: #f9d423;
            margin-bottom: 20px;
            font-size: 1.5rem;
        }
        
        .result h3 {
            color: #fff;
            margin: 25px 0 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .narrative {
            background: rgba(249, 212, 35, 0.1);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 4px solid #f9d423;
            font-size: 1.1rem;
        }
        
        .symbol-tag {
            display: inline-block;
            padding: 5px 15px;
            margin: 5px;
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            font-size: 0.9rem;
        }
        
        .symbol-tag.great { background: rgba(249, 212, 35, 0.3); }
        .symbol-tag.good { background: rgba(76, 175, 80, 0.3); }
        .symbol-tag.caution { background: rgba(255, 152, 0, 0.3); }
        
        .advice-box {
            background: rgba(102, 126, 234, 0.2);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .advice-box h4 {
            color: #667eea;
            margin-bottom: 10px;
        }
        
        .fortune-banner {
            text-align: center;
            padding: 25px;
            margin: 20px 0;
            border-radius: 15px;
            font-size: 1.3rem;
        }
        
        .fortune-banner.great {
            background: linear-gradient(135deg, rgba(249,212,35,0.3), rgba(255,78,80,0.3));
        }
        .fortune-banner.good {
            background: rgba(76, 175, 80, 0.2);
        }
        .fortune-banner.neutral {
            background: rgba(158, 158, 158, 0.2);
        }
        .fortune-banner.caution {
            background: rgba(255, 152, 0, 0.2);
        }
        
        footer {
            text-align: center;
            padding: 40px;
            color: #666;
        }
        
        footer a { color: #f9d423; text-decoration: none; }
        
        .loading {
            text-align: center;
            padding: 40px;
        }
        
        .loading::after {
            content: "ğŸŒ™";
            animation: pulse 1s infinite;
            font-size: 3rem;
            display: block;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        @media (max-width: 600px) {
            h1 { font-size: 1.8rem; }
            .container { padding: 15px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸŒ™ Dream Decoder è§£æ¢¦å¤§å¸ˆ</h1>
            <p class="subtitle">å‘¨å…¬è§£æ¢¦ Ã— ç°ä»£å¿ƒç†å­¦ Ã— æ·±åº¦åˆ†æ</p>
            <span class="badge">âœ¨ æ·±åº¦ç‰ˆ Deep Analysis</span>
        </header>
        
        <div class="search-box">
            <textarea id="dream-input" placeholder="è¯¦ç»†æè¿°ä½ çš„æ¢¦å¢ƒ...&#10;&#10;è¶Šè¯¦ç»†è¶Šå¥½ï¼åŒ…æ‹¬ï¼šåœºæ™¯ã€äººç‰©ã€æƒ…ç»ªã€é¢œè‰²ã€å‘ç”Ÿäº†ä»€ä¹ˆäº‹...&#10;&#10;ä¾‹å¦‚ï¼šæˆ‘æ¢¦åˆ°åœ¨ä¸€ç‰‡å¤§æµ·ä¸Šé£ç¿”ï¼Œçœ‹åˆ°è¿œå¤„æœ‰ä¸€æ¡é‡‘è‰²çš„é¾™åœ¨äº‘ä¸­ç©¿æ¢­ã€‚æˆ‘æ„Ÿåˆ°æ—¢å…´å¥‹åˆæœ‰ç‚¹å®³æ€•ï¼Œæœ€åé¾™å‘æˆ‘ç‚¹äº†ç‚¹å¤´å°±æ¶ˆå¤±äº†ã€‚"></textarea>
            
            <div class="context-questions">
                <label>ğŸ“… æœ€è¿‘çš„ç”Ÿæ´»çŠ¶æ€</label>
                <select id="life-status">
                    <option value="">è¯·é€‰æ‹©ï¼ˆå¯é€‰ï¼‰</option>
                    <option value="stressed">å‹åŠ›è¾ƒå¤§ / ç„¦è™‘</option>
                    <option value="peaceful">å¹³é™å®‰ç¨³</option>
                    <option value="transition">æ­£åœ¨ç»å†å˜åŒ– / è½¬æŠ˜æœŸ</option>
                    <option value="happy">å¼€å¿ƒé¡ºåˆ©</option>
                    <option value="confused">è¿·èŒ«å›°æƒ‘</option>
                    <option value="romantic">æ„Ÿæƒ…ç›¸å…³</option>
                </select>
                
                <label>ğŸ¯ æœ€è¿‘å…³å¿ƒçš„äº‹æƒ…</label>
                <input type="text" id="concern" placeholder="å¦‚ï¼šå·¥ä½œå‡èŒã€æ„Ÿæƒ…ã€å¥åº·ã€å®¶äºº...ï¼ˆå¯é€‰ï¼‰">
            </div>
            
            <button class="primary" onclick="deepInterpret()">ğŸ”® æ·±åº¦è§£æ¢¦</button>
        </div>
        
        <div class="result" id="result"></div>
        
        <footer>
            Made with ğŸ’œ by <a href="https://github.com/wond3v/dream-decoder">æ—ºæ—º (Nova)</a> ğŸ•
            <br><small>âš ï¸ ä»…ä¾›å¨±ä¹å‚è€ƒï¼Œé‡è¦å†³å®šè¯·ç†æ€§æ€è€ƒ</small>
        </footer>
    </div>

    <script>
        // Enhanced Dream Symbols Database
        const SYMBOLS = {
            // === åŠ¨ç‰© ===
            "è›‡": { en: "snake", emoji: "ğŸ", category: "åŠ¨ç‰©", fortune: "mixed",
                meanings: ["è´¢è¿", "æ™ºæ…§", "éšè—çš„ææƒ§", "è½¬å˜", "è¯±æƒ‘"],
                positive: "è›‡æ˜¯å°é¾™çš„è±¡å¾ï¼Œä»£è¡¨æ™ºæ…§å’Œæ½œåœ¨çš„è´¢è¿ã€‚æ¢¦ä¸­çš„è›‡å¦‚æœæ˜¯å¹³é™çš„ï¼Œå¾€å¾€é¢„ç¤ºå¥½è¿ã€‚",
                negative: "è¢«è›‡å’¬æˆ–è›‡æ”»å‡»å¯èƒ½æš—ç¤ºæœ‰å°äººæˆ–éšè—çš„å¨èƒéœ€è¦è­¦æƒ•ã€‚",
                psychology: "è›‡åœ¨å¿ƒç†å­¦ä¸­å¸¸ä»£è¡¨è¢«å‹æŠ‘çš„æ¬²æœ›ã€ææƒ§æˆ–å³å°†åˆ°æ¥çš„è½¬å˜ã€‚",
                advice: "ç•™æ„èº«è¾¹æ˜¯å¦æœ‰éœ€è¦è­¦æƒ•çš„äººæˆ–äº‹ï¼ŒåŒæ—¶ä¹Ÿå¯èƒ½æ˜¯å†…å¿ƒåœ¨æé†’ä½ é¢å¯¹æŸäº›ææƒ§ã€‚"
            },
            "é¾™": { en: "dragon", emoji: "ğŸ‰", category: "åŠ¨ç‰©", fortune: "great",
                meanings: ["æƒåŠ›", "æˆåŠŸ", "è´µäºº", "è…¾é£", "ä¿æŠ¤"],
                positive: "é¾™æ˜¯æœ€å‰ç¥¥çš„æ¢¦å¢ƒç¬¦å·ä¹‹ä¸€ï¼ä»£è¡¨äº‹ä¸šè…¾é£ã€è´µäººç›¸åŠ©ã€å¤§å±•å®å›¾ã€‚",
                negative: "æå°‘æœ‰è´Ÿé¢å«ä¹‰ã€‚å¦‚æœé¾™åœ¨æ”»å‡»ä½ ï¼Œå¯èƒ½æš—ç¤ºä½ æ­£åœ¨ä¸å¼ºå¤§çš„åŠ›é‡æŠ—äº‰ã€‚",
                psychology: "é¾™è±¡å¾ç€å†…å¿ƒæ·±å¤„çš„åŠ›é‡å’Œæ½œèƒ½ï¼Œæ¢¦è§é¾™è¯´æ˜ä½ çš„æ½œæ„è¯†åœ¨å‘Šè¯‰ä½ ï¼šä½ æ¯”æƒ³è±¡ä¸­æ›´å¼ºå¤§ã€‚",
                advice: "è¿™æ˜¯è¡ŒåŠ¨çš„å¥½æ—¶æœºï¼æœ‰ä»€ä¹ˆä¸€ç›´æƒ³åšçš„äº‹æƒ…ï¼Œç°åœ¨å°±å»åšã€‚è´µäººè¿å¾ˆæ—ºã€‚"
            },
            "ç‹—": { en: "dog", emoji: "ğŸ•", category: "åŠ¨ç‰©", fortune: "good",
                meanings: ["å¿ è¯š", "å‹æƒ…", "ä¿æŠ¤", "ç›´è§‰"],
                positive: "ç‹—ä»£è¡¨å¿ è¯šçš„æœ‹å‹å’ŒçœŸè¯šçš„å…³ç³»ã€‚æ¢¦è§å‹å–„çš„ç‹—é¢„ç¤ºç€å¯é çš„äººé™…å…³ç³»ã€‚",
                negative: "ç‹—å’¬äººå¯èƒ½æš—ç¤ºä¸æœ‹å‹æˆ–èº«è¾¹äººæœ‰å£èˆŒä¹‹äº‰ã€‚",
                psychology: "ç‹—è±¡å¾ç€ä½ å†…å¿ƒå¯¹å¿ è¯šå’Œé™ªä¼´çš„æ¸´æœ›ï¼Œä¹Ÿå¯èƒ½ä»£è¡¨ä½ è‡ªå·±å¿ è¯šçš„ä¸€é¢ã€‚",
                advice: "çæƒœèº«è¾¹çœŸè¯šçš„æœ‹å‹ï¼Œä»–ä»¬æ˜¯ä½ çš„è´¢å¯Œã€‚"
            },
            "çŒ«": { en: "cat", emoji: "ğŸ±", category: "åŠ¨ç‰©", fortune: "neutral",
                meanings: ["ç‹¬ç«‹", "ç¥ç§˜", "ç›´è§‰", "å¥³æ€§èƒ½é‡"],
                positive: "çŒ«ä»£è¡¨ç‹¬ç«‹å’Œç¥ç§˜çš„åŠ›é‡ï¼Œå¯èƒ½æœ‰å¥³æ€§è´µäººå‡ºç°ã€‚",
                negative: "é»‘çŒ«æˆ–å‡¶çŒ«å¯èƒ½æš—ç¤ºéœ€è¦é˜²èŒƒå°äººæˆ–è™šä¼ªçš„äººã€‚",
                psychology: "çŒ«è±¡å¾ç€ç‹¬ç«‹ã€ç›´è§‰å’Œç¥ç§˜æ„Ÿï¼Œåæ˜ äº†ä½ å†…å¿ƒè‡ªç”±çš„ä¸€é¢ã€‚",
                advice: "ç›¸ä¿¡è‡ªå·±çš„ç›´è§‰ï¼Œä¿æŒç‹¬ç«‹æ€è€ƒã€‚"
            },
            "é±¼": { en: "fish", emoji: "ğŸŸ", category: "åŠ¨ç‰©", fortune: "good",
                meanings: ["è´¢å¯Œ", "å¯Œè¶³", "å¹´å¹´æœ‰ä½™", "æœºé‡"],
                positive: "é±¼é€š"ä½™"ï¼Œå¹´å¹´æœ‰ä½™ï¼æ¢¦è§é±¼æ˜¯è´¢è¿å’Œä¸°æ”¶çš„è±¡å¾ã€‚",
                negative: "é±¼æ­»äº†å¯èƒ½æš—ç¤ºæŸä¸ªæœºä¼šå¯èƒ½ä¼šå¤±å»ã€‚",
                psychology: "é±¼åœ¨æ°´ä¸­æ¸¸åŠ¨è±¡å¾ç€æ½œæ„è¯†çš„æµåŠ¨å’Œæƒ…æ„Ÿçš„ä¸°å¯Œã€‚",
                advice: "è´¢è¿ä¸é”™ï¼Œå¯ä»¥å…³æ³¨æŠ•èµ„ç†è´¢çš„æœºä¼šã€‚"
            },
            "é¸Ÿ": { en: "bird", emoji: "ğŸ¦", category: "åŠ¨ç‰©", fortune: "good",
                meanings: ["è‡ªç”±", "æ¶ˆæ¯", "å¸Œæœ›", "çµé­‚"],
                positive: "é¸Ÿé£ç¿”ä»£è¡¨è‡ªç”±å’Œå¥½æ¶ˆæ¯å³å°†åˆ°æ¥ã€‚",
                negative: "é¸Ÿå—ä¼¤æˆ–æ­»äº¡å¯èƒ½æš—ç¤ºå¸Œæœ›å—æŒ«ã€‚",
                psychology: "é¸Ÿè±¡å¾ç€çµé­‚çš„è‡ªç”±å’Œå¯¹æ›´é«˜å¢ƒç•Œçš„è¿½æ±‚ã€‚",
                advice: "ä¿æŒä¹è§‚ï¼Œå¥½æ¶ˆæ¯å¯èƒ½å¾ˆå¿«å°±ä¼šåˆ°æ¥ã€‚"
            },
            
            // === è‡ªç„¶ ===
            "æ°´": { en: "water", emoji: "ğŸ’§", category: "è‡ªç„¶", fortune: "mixed",
                meanings: ["æƒ…æ„Ÿ", "è´¢è¿", "æ½œæ„è¯†", "å˜åŒ–"],
                positive: "æ¸…æ¾ˆçš„æ°´ä»£è¡¨è´¢è¿å’Œæ¸…æ™°çš„æ€ç»ªã€‚å¹³é™çš„æ°´é¢è±¡å¾å†…å¿ƒçš„å¹³å’Œã€‚",
                negative: "æµ‘æ°´æˆ–æ´ªæ°´å¯èƒ½æš—ç¤ºæƒ…ç»ªçš„æ³¢åŠ¨æˆ–ç”Ÿæ´»çš„å˜åŠ¨ã€‚",
                psychology: "æ°´æ˜¯æ½œæ„è¯†æœ€å¸¸è§çš„è±¡å¾ï¼Œæ°´çš„çŠ¶æ€åæ˜ äº†ä½ å½“å‰çš„æƒ…ç»ªçŠ¶æ€ã€‚",
                advice: "æ³¨æ„ç®¡ç†è‡ªå·±çš„æƒ…ç»ªï¼Œé¡ºå…¶è‡ªç„¶å¾€å¾€æ¯”å¼ºæ±‚æ›´å¥½ã€‚"
            },
            "ç«": { en: "fire", emoji: "ğŸ”¥", category: "è‡ªç„¶", fortune: "mixed",
                meanings: ["æ¿€æƒ…", "æ„¤æ€’", "è½¬å˜", "å…´æ—º"],
                positive: "ç«ç„°ç†Šç†Šä»£è¡¨äº‹ä¸šçº¢ç«ã€æ¿€æƒ…æ»¡æ»¡ã€‚",
                negative: "å¤±æ§çš„ç«å¯èƒ½æš—ç¤ºæ„¤æ€’æˆ–éœ€è¦æ§åˆ¶çš„æƒ…ç»ªã€‚",
                psychology: "ç«è±¡å¾ç€å†…å¿ƒçš„æ¿€æƒ…å’Œèƒ½é‡ï¼Œä¹Ÿå¯èƒ½æ˜¯è¢«å‹æŠ‘çš„æ„¤æ€’ã€‚",
                advice: "å°†æ¿€æƒ…ç”¨åœ¨æ­£ç¡®çš„åœ°æ–¹ï¼Œé¿å…å†²åŠ¨è¡Œäº‹ã€‚"
            },
            "æµ·": { en: "ocean", emoji: "ğŸŒŠ", category: "è‡ªç„¶", fortune: "neutral",
                meanings: ["å¹¿é˜”", "æ½œæ„è¯†", "æ¯æ€§", "æœªçŸ¥"],
                positive: "å¹³é™çš„å¤§æµ·ä»£è¡¨å¹¿é˜”çš„å‰æ™¯å’Œå†…å¿ƒçš„å®é™ã€‚",
                negative: "æ³¢æ¶›æ±¹æ¶Œå¯èƒ½æš—ç¤ºå†…å¿ƒçš„åŠ¨è¡æˆ–é¢ä¸´çš„æŒ‘æˆ˜ã€‚",
                psychology: "æµ·æ´‹æ˜¯æœ€æ·±å±‚æ½œæ„è¯†çš„è±¡å¾ï¼Œä»£è¡¨ç€æ— é™çš„å¯èƒ½æ€§å’ŒæœªçŸ¥ã€‚",
                advice: "æ¥å—ç”Ÿæ´»çš„ä¸ç¡®å®šæ€§ï¼Œåƒå¤§æµ·ä¸€æ ·åŒ…å®¹ä¸€åˆ‡ã€‚"
            },
            "å±±": { en: "mountain", emoji: "â›°ï¸", category: "è‡ªç„¶", fortune: "neutral",
                meanings: ["éšœç¢", "ç›®æ ‡", "ç¨³å®š", "æŒ‘æˆ˜"],
                positive: "ç™»ä¸Šå±±é¡¶ä»£è¡¨å…‹æœå›°éš¾ã€è¾¾æˆç›®æ ‡ã€‚",
                negative: "æ— æ³•æ”€ç™»å¯èƒ½æš—ç¤ºå½“å‰é¢ä¸´çš„æŒ‘æˆ˜å¾ˆå¤§ã€‚",
                psychology: "å±±è±¡å¾ç€äººç”Ÿçš„ç›®æ ‡å’Œéœ€è¦å…‹æœçš„éšœç¢ã€‚",
                advice: "ä¸€æ­¥ä¸€ä¸ªè„šå°ï¼Œå†é«˜çš„å±±ä¹Ÿèƒ½ç™»é¡¶ã€‚"
            },
            "é›¨": { en: "rain", emoji: "ğŸŒ§ï¸", category: "è‡ªç„¶", fortune: "good",
                meanings: ["æ©æ³½", "å‡€åŒ–", "æƒ…ç»ªé‡Šæ”¾", "æ–°ç”Ÿ"],
                positive: "é›¨æ°´æ»‹æ¶¦ä¸‡ç‰©ï¼Œä»£è¡¨æ©æ³½å’Œç¥ç¦é™ä¸´ã€‚",
                negative: "æš´é›¨å¯èƒ½æš—ç¤ºæƒ…ç»ªéœ€è¦é‡Šæ”¾ã€‚",
                psychology: "é›¨è±¡å¾ç€æƒ…ç»ªçš„é‡Šæ”¾å’Œå†…å¿ƒçš„å‡€åŒ–ã€‚",
                advice: "è®©æƒ…ç»ªè‡ªç„¶æµåŠ¨ï¼Œå“­æ³£ä¹Ÿæ˜¯ä¸€ç§é‡Šæ”¾ã€‚"
            },
            
            // === åŠ¨ä½œ ===
            "é£": { en: "flying", emoji: "ğŸ•Šï¸", category: "åŠ¨ä½œ", fortune: "good",
                meanings: ["è‡ªç”±", "è¶…è¶Š", "é‡å¿ƒ", "é€ƒé¿"],
                positive: "é£ç¿”ä»£è¡¨çªç ´é™åˆ¶ã€è‡ªç”±è‡ªåœ¨ï¼Œé¢„ç¤ºç€äº‹ä¸šæˆ–ç”Ÿæ´»çš„ä¸Šå‡ã€‚",
                negative: "å®³æ€•é£ç¿”æˆ–æ— æ³•æ§åˆ¶å¯èƒ½æš—ç¤ºå¯¹æŸäº›äº‹æƒ…å¤±å»æ§åˆ¶æ„Ÿã€‚",
                psychology: "é£ç¿”æ˜¯æœ€å¸¸è§çš„ç§¯ææ¢¦å¢ƒä¹‹ä¸€ï¼Œåæ˜ äº†å¯¹è‡ªç”±å’Œè¶…è¶Šçš„æ¸´æœ›ã€‚",
                advice: "ä½ æœ‰èƒ½åŠ›é£å¾—æ›´é«˜ï¼ä¸è¦ç»™è‡ªå·±è®¾é™ã€‚"
            },
            "æ‰è½": { en: "falling", emoji: "â¬‡ï¸", category: "åŠ¨ä½œ", fortune: "caution",
                meanings: ["å¤±æ§", "ç„¦è™‘", "ææƒ§", "æ”¾æ‰‹"],
                positive: "å®‰å…¨è½åœ°ä»£è¡¨èƒ½å¤Ÿåº”å¯¹å›°éš¾ã€‚",
                negative: "ä¸æ–­å è½å¯èƒ½åæ˜ äº†ç”Ÿæ´»ä¸­çš„å¤±æ§æ„Ÿæˆ–ç„¦è™‘ã€‚",
                psychology: "å è½æ¢¦é€šå¸¸ä¸ç„¦è™‘å’Œå‹åŠ›æœ‰å…³ï¼Œæ˜¯æœ€å¸¸è§çš„ç„¦è™‘æ¢¦å¢ƒä¹‹ä¸€ã€‚",
                advice: "å…³æ³¨ä»€ä¹ˆè®©ä½ æ„Ÿåˆ°å¤±æ§ï¼Œå°è¯•åœ¨ç”Ÿæ´»ä¸­æ‰¾å›æŒæ§æ„Ÿã€‚"
            },
            "æ‰ç‰™": { en: "losing teeth", emoji: "ğŸ¦·", category: "åŠ¨ä½œ", fortune: "caution",
                meanings: ["ç„¦è™‘", "å˜åŒ–", "æˆé•¿", "å¤±å»"],
                positive: "ä¼ ç»Ÿè®¤ä¸ºå¯èƒ½é¢„ç¤ºç€èœ•å˜å’Œæˆé•¿ã€‚",
                negative: "å¯èƒ½æš—ç¤ºå¯¹å¤–è¡¨æˆ–è¡°è€çš„ç„¦è™‘ï¼Œä¹Ÿä¼ ç»Ÿè®¤ä¸ºè¦æ³¨æ„å®¶äººå¥åº·ã€‚",
                psychology: "æ‰ç‰™æ¢¦æ˜¯æœ€å¸¸è§çš„ç„¦è™‘æ¢¦ä¹‹ä¸€ï¼Œé€šå¸¸ä¸è‡ªæˆ‘å½¢è±¡æˆ–é‡å¤§ç”Ÿæ´»å˜åŒ–æœ‰å…³ã€‚",
                advice: "ä¸å¿…è¿‡äºæ‹…å¿ƒï¼Œä½†å¯ä»¥å…³å¿ƒä¸€ä¸‹å®¶äººçš„èº«ä½“çŠ¶å†µã€‚"
            },
            "å“­": { en: "crying", emoji: "ğŸ˜¢", category: "åŠ¨ä½œ", fortune: "good",
                meanings: ["é‡Šæ”¾", "å–œæ‚¦", "æƒ…ç»ªå®£æ³„"],
                positive: "å‘¨å…¬è§£æ¢¦è¯´ï¼šæ¢¦å“­åä¸»å–œï¼å“­å¾—è¶Šå‰å®³ï¼Œå–œäº‹è¶Šå¤§ã€‚",
                negative: "ä¹Ÿå¯èƒ½æ˜¯æ½œæ„è¯†åœ¨å¸®ä½ é‡Šæ”¾å‹æŠ‘çš„æƒ…ç»ªã€‚",
                psychology: "å“­æ³£æ¢¦å¾€å¾€æ˜¯æƒ…ç»ªé‡Šæ”¾çš„è¡¨ç°ï¼Œé†’æ¥åå¯èƒ½ä¼šæ„Ÿåˆ°è½»æ¾ã€‚",
                advice: "å¥½äº‹å¯èƒ½è¦æ¥äº†ï¼åŒæ—¶ä¹Ÿè¦é€‚å½“é‡Šæ”¾ç°å®ä¸­çš„æƒ…ç»ªã€‚"
            },
            "è¿½é€": { en: "being chased", emoji: "ğŸƒ", category: "åŠ¨ä½œ", fortune: "caution",
                meanings: ["é€ƒé¿", "å‹åŠ›", "ææƒ§", "æŒ‘æˆ˜"],
                positive: "æˆåŠŸé€ƒè„±ä»£è¡¨èƒ½å¤Ÿåº”å¯¹æŒ‘æˆ˜ã€‚",
                negative: "ä¸æ–­è¢«è¿½å¯èƒ½åæ˜ äº†é€ƒé¿æŸäº›é—®é¢˜ã€‚",
                psychology: "è¢«è¿½é€æ˜¯æœ€å¸¸è§çš„æ¢¦å¢ƒä¹‹ä¸€ï¼Œé€šå¸¸ä»£è¡¨ç€ä½ åœ¨é€ƒé¿æŸäº›äº‹æƒ…ã€‚",
                advice: "æ€è€ƒä½ åœ¨é€ƒé¿ä»€ä¹ˆï¼Œé¢å¯¹å®ƒå¯èƒ½æ¯”é€ƒé¿æ›´æœ‰æ•ˆã€‚"
            },
            "è€ƒè¯•": { en: "exam", emoji: "ğŸ“", category: "åŠ¨ä½œ", fortune: "neutral",
                meanings: ["è¢«è¯„åˆ¤", "å‹åŠ›", "è‡ªæˆ‘æ€€ç–‘", "å‡†å¤‡"],
                positive: "è€ƒå¾—å¥½ä»£è¡¨è‡ªä¿¡å’Œå‡†å¤‡å……åˆ†ã€‚",
                negative: "è€ƒç ¸æˆ–è¿Ÿåˆ°å¯èƒ½åæ˜ äº†å¯¹è¯„åˆ¤çš„ææƒ§ã€‚",
                psychology: "è€ƒè¯•æ¢¦é€šå¸¸ä¸è‡ªæˆ‘è¯„ä»·å’Œ"å†’å……è€…ç»¼åˆç—‡"æœ‰å…³ã€‚",
                advice: "ç›¸ä¿¡è‡ªå·±çš„èƒ½åŠ›ï¼Œä½ æ¯”æƒ³è±¡ä¸­æ›´æœ‰å‡†å¤‡ã€‚"
            },
            "ç»“å©š": { en: "wedding", emoji: "ğŸ’’", category: "åŠ¨ä½œ", fortune: "good",
                meanings: ["æ‰¿è¯º", "æ–°é˜¶æ®µ", "åˆä¸€", "é‡å¤§å†³å®š"],
                positive: "ç»“å©šä»£è¡¨äººç”Ÿè¿›å…¥æ–°é˜¶æ®µï¼Œæœªå©šè€…å¯èƒ½æœ‰å§»ç¼˜ã€‚",
                negative: "å©šç¤¼å‡ºé—®é¢˜å¯èƒ½æš—ç¤ºå¯¹æ‰¿è¯ºçš„æ‹…å¿§ã€‚",
                psychology: "å©šå§»æ¢¦è±¡å¾ç€ä¸åŒæ–¹é¢è‡ªæˆ‘çš„æ•´åˆï¼Œæˆ–å¯¹æ‰¿è¯ºçš„æ€è€ƒã€‚",
                advice: "å¯èƒ½æ˜¯æ—¶å€™åšå‡ºæŸä¸ªé‡è¦çš„æ‰¿è¯ºæˆ–å†³å®šäº†ã€‚"
            },
            "æ€€å­•": { en: "pregnancy", emoji: "ğŸ¤°", category: "åŠ¨ä½œ", fortune: "good",
                meanings: ["æ–°ç”Ÿ", "åˆ›æ„", "æˆé•¿", "æœŸå¾…"],
                positive: "æ€€å­•è±¡å¾ç€æ–°äº‹ç‰©çš„è¯ç”Ÿï¼Œå¯èƒ½æœ‰æ–°è®¡åˆ’æˆ–åˆ›æ„ã€‚",
                negative: "æ‹…å¿ƒæ€€å­•å¯èƒ½åæ˜ å¯¹æ–°è´£ä»»çš„ç„¦è™‘ã€‚",
                psychology: "æ€€å­•æ¢¦ä¸ä¸€å®šä¸çœŸæ­£çš„æ€€å­•æœ‰å…³ï¼Œæ›´å¤šä»£è¡¨åˆ›é€ åŠ›å’Œæ–°å¼€å§‹ã€‚",
                advice: "å¯èƒ½æœ‰æ–°çš„æƒ³æ³•æˆ–é¡¹ç›®åœ¨é…é…¿ï¼Œå¥½å¥½åŸ¹è‚²å®ƒã€‚"
            },
            
            // === ç‰©å“ ===
            "æ£ºæ": { en: "coffin", emoji: "âš°ï¸", category: "ç‰©å“", fortune: "great",
                meanings: ["å‡å®˜", "å‘è´¢", "è½¬å˜", "ç»“æŸ"],
                positive: "å¤§å‰ï¼æ£ºæè°éŸ³"å®˜è´¢"ï¼Œä»£è¡¨å‡å®˜å‘è´¢ã€‚æ£ºæå…¥å®…ä¸»è´¢è¿è¿›é—¨ï¼",
                negative: "åœ¨å‘¨å…¬è§£æ¢¦ä¸­å‡ ä¹æ²¡æœ‰è´Ÿé¢å«ä¹‰ã€‚",
                psychology: "æ£ºæè±¡å¾ç€ç»“æŸå’Œè½¬å˜ï¼Œå¯èƒ½æš—ç¤ºæŸä¸ªäººç”Ÿé˜¶æ®µçš„ç»“æŸã€‚",
                advice: "å¥½è¿æ¥äº†ï¼å¯ä»¥å…³æ³¨äº‹ä¸šå’Œè´¢è¿æ–¹é¢çš„æœºä¼šã€‚"
            },
            "æ­»äºº": { en: "deceased", emoji: "ğŸ’€", category: "ç‰©å“", fortune: "good",
                meanings: ["é•¿å¯¿", "ç»“æŸ", "è½¬å˜", "æ€å¿µ"],
                positive: "æ¢¦è§æ­»äººåä¸ºå‰ï¼ä¸»é•¿å¯¿ã€æ—§äº‹äº†ç»“ã€‚",
                negative: "å»ä¸–çš„äº²äººæ‰˜æ¢¦è¦è®¤çœŸå¯¹å¾…ï¼Œå¯èƒ½æ˜¯æ€å¿µæˆ–æœªå®Œçš„å¿ƒäº‹ã€‚",
                psychology: "æ­»äº¡æ¢¦é€šå¸¸è±¡å¾ç€æŸç§ç»“æŸæˆ–è½¬å˜ï¼Œè€ŒéçœŸæ­£çš„æ­»äº¡ã€‚",
                advice: "ä¸å¿…å®³æ€•ï¼Œè¿™å¾€å¾€é¢„ç¤ºç€å¥½äº‹ã€‚å¦‚æœæ˜¯äº²äººï¼Œå¯ä»¥å»ç¥­æ‹œä¸€ä¸‹ã€‚"
            },
            "é’±": { en: "money", emoji: "ğŸ’°", category: "ç‰©å“", fortune: "mixed",
                meanings: ["ä»·å€¼", "è‡ªæˆ‘ä»·å€¼", "èµ„æº", "ç„¦è™‘"],
                positive: "å‘è´¢æ¢¦ï¼ä½†è¦æ³¨æ„ï¼šæ¡é’±å¯èƒ½æ¼è´¢ï¼Œä¸¢é’±åè€Œå¯èƒ½å¾—è´¢ã€‚",
                negative: "å¯¹é’±çš„ç„¦è™‘å¯èƒ½åæ˜ äº†å¯¹èµ„æºæˆ–è‡ªæˆ‘ä»·å€¼çš„æ‹…å¿§ã€‚",
                psychology: "é‡‘é’±åœ¨æ¢¦ä¸­é€šå¸¸è±¡å¾ç€è‡ªæˆ‘ä»·å€¼æ„Ÿå’Œèµ„æºã€‚",
                advice: "å…³æ³¨ä½ ä¸é‡‘é’±çš„å…³ç³»ï¼Œä½†ä¸è¦è¢«å®ƒæ§åˆ¶ã€‚"
            },
            "æˆ¿å­": { en: "house", emoji: "ğŸ ", category: "ç‰©å“", fortune: "neutral",
                meanings: ["è‡ªæˆ‘", "å®‰å…¨", "å®¶åº­", "å†…å¿ƒ"],
                positive: "æ–°æˆ¿ä»£è¡¨æ–°ç”Ÿæ´»ï¼Œæˆ¿å­çŠ¶æ€å¥½ä»£è¡¨å†…å¿ƒçŠ¶æ€å¥½ã€‚",
                negative: "ç ´æ—§çš„æˆ¿å­å¯èƒ½æš—ç¤ºéœ€è¦å…³æ³¨å†…å¿ƒæˆ–ç”Ÿæ´»çŠ¶æ€ã€‚",
                psychology: "æˆ¿å­æ˜¯è‡ªæˆ‘çš„è±¡å¾ï¼Œä¸åŒçš„æˆ¿é—´ä»£è¡¨ä¸åŒçš„å¿ƒç†å±‚é¢ã€‚",
                advice: "å…³æ³¨æ¢¦ä¸­æˆ¿å­çš„çŠ¶æ€ï¼Œå®ƒåæ˜ äº†ä½ å½“å‰çš„å†…å¿ƒä¸–ç•Œã€‚"
            },
            "é•œå­": { en: "mirror", emoji: "ğŸª", category: "ç‰©å“", fortune: "neutral",
                meanings: ["è‡ªçœ", "çœŸç›¸", "è‡ªæˆ‘è®¤çŸ¥"],
                positive: "æ¸…æ™°çš„é•œå­ä»£è¡¨è‡ªæˆ‘è®¤çŸ¥æ¸…æ™°ã€‚",
                negative: "ç ´ç¢æˆ–æ¨¡ç³Šçš„é•œå­å¯èƒ½æš—ç¤ºè‡ªæˆ‘è®¤çŸ¥çš„å›°æƒ‘ã€‚",
                psychology: "é•œå­æ˜¯è‡ªæˆ‘åæ€çš„è±¡å¾ï¼Œé•œä¸­çš„å½¢è±¡ä»£è¡¨ä½ å¯¹è‡ªå·±çš„çœ‹æ³•ã€‚",
                advice: "èŠ±æ—¶é—´äº†è§£çœŸæ­£çš„è‡ªå·±ã€‚"
            },
            "è½¦": { en: "car", emoji: "ğŸš—", category: "ç‰©å“", fortune: "good",
                meanings: ["æ–¹å‘", "æ§åˆ¶", "äººç”Ÿæ—…é€”", "äº‹ä¸š"],
                positive: "é¡ºåˆ©å¼€è½¦ä»£è¡¨äººç”Ÿåœ¨æ­£è½¨ï¼Œäº‹ä¸šé¡ºé‚ã€‚",
                negative: "å¤±æ§æˆ–è¿·è·¯å¯èƒ½æš—ç¤ºäººç”Ÿæ–¹å‘éœ€è¦è°ƒæ•´ã€‚",
                psychology: "è½¦ä»£è¡¨ä½ å¯¹äººç”Ÿæ–¹å‘çš„æ§åˆ¶æ„Ÿã€‚",
                advice: "ä½ æ˜¯è‡ªå·±äººç”Ÿçš„å¸æœºï¼ŒæŒæ¡å¥½æ–¹å‘ç›˜ã€‚"
            }
        };

        // Combination interpretations
        const COMBINATIONS = {
            "é¾™+é£": "ç»ä½³ç»„åˆï¼é¾™é£ä¹å¤©ï¼Œé¢„ç¤ºäº‹ä¸šå³å°†è…¾é£ï¼Œæœ‰é‡å¤§çªç ´ã€‚",
            "é¾™+æ°´": "é¾™å…¥å¤§æµ·ï¼Œå¦‚é±¼å¾—æ°´ã€‚ä½ å³å°†è¿›å…¥ä¸€ä¸ªè®©ä½ å¤§å±•æ‰åçš„ç¯å¢ƒã€‚",
            "æ°´+é±¼": "è´¢è¿äº¨é€šï¼æ°´ä¸­æœ‰é±¼ï¼Œå¹´å¹´æœ‰ä½™ï¼Œè´¢æºæ»šæ»šã€‚",
            "æ­»äºº+æ£ºæ": "åŒé‡å¤§å‰ï¼è¿™ä¸ªç»„åˆåœ¨å‘¨å…¬è§£æ¢¦ä¸­æ˜¯éå¸¸å‰åˆ©çš„ï¼Œé¢„ç¤ºç€è´¢è¿å’Œå¥½è¿ã€‚",
            "é£+é¸Ÿ": "è‡ªç”±çš„è±¡å¾åŠ å€ï¼Œè¯´æ˜ä½ å†…å¿ƒå¯¹è‡ªç”±çš„æ¸´æœ›å¾ˆå¼ºçƒˆï¼Œå¥½æ¶ˆæ¯å°†è‡³ã€‚",
            "ç«+é¾™": "ç«é¾™è…¾ç©ºï¼Œæ°”åŠ¿å¦‚è™¹ï¼äº‹ä¸šè¿åŠ¿æä½³ï¼Œå¯èƒ½æœ‰é‡å¤§æˆåŠŸã€‚",
            "è›‡+æ°´": "è›‡æ°´ç›¸é‡ï¼Œä¸»è´¢è¿ã€‚ä½†ä¹Ÿè¦å°å¿ƒæš—ä¸­çš„ç«äº‰å¯¹æ‰‹ã€‚",
            "å“­+æ­»äºº": "çœ‹ä¼¼æ‚²ä¼¤ï¼Œå®åˆ™å¤§å–œã€‚å¯èƒ½æœ‰æ„æƒ³ä¸åˆ°çš„å¥½äº‹å‘ç”Ÿã€‚",
            "è¿½é€+æ‰è½": "å‹åŠ›ä¿¡å·ã€‚ä½ çš„æ½œæ„è¯†åœ¨å‘Šè¯‰ä½ éœ€è¦æ”¾æ¾ï¼Œé¢å¯¹è€Œä¸æ˜¯é€ƒé¿ã€‚",
            "æˆ¿å­+æ°´": "æ³¨æ„å®¶ä¸­äº‹åŠ¡ï¼Œå¯èƒ½æœ‰è´¢è¿è¿›é—¨ï¼Œä¹Ÿå¯èƒ½éœ€è¦å…³æ³¨å®¶äººæƒ…ç»ªã€‚",
            "å©´å„¿+æ€€å­•": "æ–°ç”ŸåŠ›é‡ï¼æ–°çš„å¼€å§‹ã€æ–°çš„åˆ›æ„ã€æ–°çš„äººç”Ÿé˜¶æ®µå³å°†åˆ°æ¥ã€‚"
        };

        // Life status context
        const LIFE_CONTEXT = {
            "stressed": "è€ƒè™‘åˆ°ä½ æœ€è¿‘å‹åŠ›è¾ƒå¤§ï¼Œè¿™ä¸ªæ¢¦å¯èƒ½æ˜¯æ½œæ„è¯†åœ¨å¸®ä½ é‡Šæ”¾å‹åŠ›å’Œç„¦è™‘ã€‚",
            "peaceful": "åœ¨å¹³é™çš„ç”Ÿæ´»çŠ¶æ€ä¸‹åšè¿™ä¸ªæ¢¦ï¼Œå®ƒçš„é¢„ç¤ºæ„ä¹‰å¯èƒ½æ›´åŠ æ˜æ˜¾ã€‚",
            "transition": "æ­£å¤„äºäººç”Ÿè½¬æŠ˜æœŸçš„ä½ ï¼Œè¿™ä¸ªæ¢¦å¯èƒ½åœ¨æŒ‡å¼•ä½ æœªæ¥çš„æ–¹å‘ã€‚",
            "happy": "åœ¨é¡ºåˆ©çš„ç”Ÿæ´»ä¸­åšè¿™ä¸ªæ¢¦ï¼Œå¯èƒ½æ˜¯åœ¨æé†’ä½ çæƒœå½“ä¸‹æˆ–é¢„ç¤ºæ›´å¥½çš„äº‹æƒ…ã€‚",
            "confused": "è¿™ä¸ªæ¢¦å¯èƒ½åœ¨å¸®åŠ©ä½ çš„æ½œæ„è¯†æ•´ç†æ€ç»ªï¼Œæ‰¾åˆ°æ–¹å‘ã€‚",
            "romantic": "æ¢¦å¢ƒå¯èƒ½ä¸ä½ çš„æ„Ÿæƒ…ç”Ÿæ´»æœ‰å…³ï¼Œæ³¨æ„å…¶ä¸­çš„æƒ…æ„Ÿä¿¡å·ã€‚"
        };

        function deepInterpret() {
            const dreamText = document.getElementById('dream-input').value.trim();
            if (!dreamText) {
                alert('è¯·æè¿°ä½ çš„æ¢¦å¢ƒï½');
                return;
            }
            
            const lifeStatus = document.getElementById('life-status').value;
            const concern = document.getElementById('concern').value.trim();
            
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = '<div class="loading"><p>æ­£åœ¨æ·±åº¦åˆ†æä½ çš„æ¢¦å¢ƒ...</p></div>';
            resultDiv.classList.add('show');
            
            // Simulate analysis delay for effect
            setTimeout(() => {
                const analysis = analyzeDream(dreamText, lifeStatus, concern);
                resultDiv.innerHTML = analysis;
            }, 1500);
        }

        function analyzeDream(dreamText, lifeStatus, concern) {
            const dreamLower = dreamText.toLowerCase();
            const foundSymbols = [];
            
            // Find all symbols
            for (const [key, data] of Object.entries(SYMBOLS)) {
                const searchTerms = [key, data.en, ...(data.keywords || [])];
                for (const term of searchTerms) {
                    if (dreamLower.includes(term.toLowerCase())) {
                        if (!foundSymbols.some(([k]) => k === key)) {
                            foundSymbols.push([key, data]);
                        }
                        break;
                    }
                }
            }
            
            // Determine overall fortune
            let fortuneLevel = 'neutral';
            let fortuneText = 'ä¸­æ€§æ¢¦å¢ƒ';
            let fortuneEmoji = 'ğŸŒ™';
            
            const fortuneCounts = { great: 0, good: 0, neutral: 0, caution: 0, mixed: 0 };
            foundSymbols.forEach(([_, data]) => fortuneCounts[data.fortune]++);
            
            if (fortuneCounts.great > 0) {
                fortuneLevel = 'great';
                fortuneText = 'ğŸŒŸ å¤§å‰å¤§åˆ©ï¼';
                fortuneEmoji = 'ğŸŒŸğŸŒŸğŸŒŸ';
            } else if (fortuneCounts.good > fortuneCounts.caution) {
                fortuneLevel = 'good';
                fortuneText = 'âœ¨ å‰ç¥¥å¦‚æ„';
                fortuneEmoji = 'ğŸŒŸğŸŒŸ';
            } else if (fortuneCounts.caution > 0) {
                fortuneLevel = 'caution';
                fortuneText = 'âš ï¸ éœ€è¦ç•™æ„';
                fortuneEmoji = 'âš ï¸';
            }
            
            // Check for combinations
            const comboMessages = [];
            for (const [combo, message] of Object.entries(COMBINATIONS)) {
                const [sym1, sym2] = combo.split('+');
                if (foundSymbols.some(([k]) => k === sym1) && foundSymbols.some(([k]) => k === sym2)) {
                    comboMessages.push(message);
                }
            }
            
            // Build narrative
            let narrative = generateNarrative(dreamText, foundSymbols, lifeStatus, concern, comboMessages);
            
            // Build HTML
            let html = `<h2>ğŸ”® æ·±åº¦è§£æ¢¦åˆ†æ</h2>`;
            
            // Fortune banner
            html += `<div class="fortune-banner ${fortuneLevel}">
                ${fortuneEmoji} ${fortuneText}
            </div>`;
            
            // Original dream
            html += `<h3>ğŸ“– ä½ çš„æ¢¦å¢ƒ</h3>
                <p style="color:#aaa;font-style:italic;">"${dreamText}"</p>`;
            
            // Main narrative
            html += `<h3>ğŸŒ™ è§£æ¢¦è§£è¯»</h3>
                <div class="narrative">${narrative}</div>`;
            
            // Found symbols
            if (foundSymbols.length > 0) {
                html += `<h3>ğŸ´ æ¢¦ä¸­å‡ºç°çš„ç¬¦å·</h3><div>`;
                foundSymbols.forEach(([key, data]) => {
                    html += `<span class="symbol-tag ${data.fortune}">${data.emoji} ${key}</span>`;
                });
                html += `</div>`;
                
                // Detailed symbols
                html += `<h3>ğŸ“š ç¬¦å·è¯¦è§£</h3>`;
                foundSymbols.forEach(([key, data]) => {
                    html += `
                        <div style="margin:15px 0;padding:20px;background:rgba(255,255,255,0.05);border-radius:15px;">
                            <h4 style="color:#f9d423;">${data.emoji} ${key} (${data.en})</h4>
                            <p style="margin:10px 0;"><strong>å‘¨å…¬è§£æ¢¦ï¼š</strong>${data.positive}</p>
                            <p style="margin:10px 0;"><strong>å¿ƒç†è§£è¯»ï¼š</strong>${data.psychology}</p>
                        </div>
                    `;
                });
            }
            
            // Combination bonus
            if (comboMessages.length > 0) {
                html += `<h3>âš¡ ç¬¦å·ç»„åˆåŠ æˆ</h3>`;
                comboMessages.forEach(msg => {
                    html += `<div class="advice-box"><p>${msg}</p></div>`;
                });
            }
            
            // Life context
            if (lifeStatus && LIFE_CONTEXT[lifeStatus]) {
                html += `<h3>ğŸ¯ ç»“åˆä½ çš„ç”Ÿæ´»çŠ¶æ€</h3>
                    <div class="advice-box"><p>${LIFE_CONTEXT[lifeStatus]}</p></div>`;
            }
            
            // Practical advice
            html += `<h3>ğŸ’¡ å®ç”¨å»ºè®®</h3>
                <div class="advice-box">
                    <h4>æ ¹æ®è¿™ä¸ªæ¢¦ï¼Œæ—ºæ—ºå»ºè®®ä½ ï¼š</h4>
                    <ul style="margin:10px 0 0 20px;">
                        ${generateAdvice(foundSymbols, fortuneLevel)}
                    </ul>
                </div>`;
            
            // Disclaimer
            html += `<p style="text-align:center;color:#666;margin-top:30px;font-size:0.9rem;">
                ğŸŒ™ ä»¥ä¸Šè§£è¯»ç»“åˆå‘¨å…¬è§£æ¢¦ä¸ç°ä»£å¿ƒç†å­¦ï¼Œä»…ä¾›å‚è€ƒå¨±ä¹<br>
                é‡è¦å†³å®šè¯·ç†æ€§æ€è€ƒï¼Œç›¸ä¿¡è‡ªå·±çš„åˆ¤æ–­ âœ¨
            </p>`;
            
            return html;
        }

        function generateNarrative(dreamText, symbols, lifeStatus, concern, combos) {
            if (symbols.length === 0) {
                return `ä½ çš„æ¢¦å¢ƒä¸­æ²¡æœ‰åŒ¹é…åˆ°å¸¸è§çš„ç¬¦å·ï¼Œä½†æ¯ä¸ªæ¢¦éƒ½æœ‰å…¶ç‹¬ç‰¹çš„æ„ä¹‰ã€‚<br><br>
                    ä»å¿ƒç†å­¦è§’åº¦æ¥çœ‹ï¼Œæ¢¦å¢ƒå¾€å¾€åæ˜ äº†æˆ‘ä»¬ç™½å¤©çš„æ€ç»ªå’Œæ½œæ„è¯†çš„è¿ä½œã€‚
                    å³ä½¿æ²¡æœ‰å…·ä½“çš„ç¬¦å·ï¼Œæ¢¦ä¸­çš„æƒ…ç»ªå’Œæ°›å›´ä¹Ÿå¾ˆé‡è¦ã€‚<br><br>
                    ä½ åœ¨æ¢¦ä¸­æ„Ÿå—åˆ°ä»€ä¹ˆæ ·çš„æƒ…ç»ªï¼Ÿæ˜¯è½»æ¾æ„‰å¿«ï¼Œè¿˜æ˜¯ç´§å¼ ç„¦è™‘ï¼Ÿ
                    è¿™äº›æƒ…ç»ªå¾€å¾€æ¯”å…·ä½“çš„ç¬¦å·æ›´èƒ½åæ˜ ä½ å½“å‰çš„å†…å¿ƒçŠ¶æ€ã€‚`;
            }
            
            let narrative = '';
            
            // Opening based on fortune
            const hasGreat = symbols.some(([_, d]) => d.fortune === 'great');
            const hasGood = symbols.some(([_, d]) => d.fortune === 'good');
            const hasCaution = symbols.some(([_, d]) => d.fortune === 'caution');
            
            if (hasGreat) {
                narrative += `<strong>è¿™æ˜¯ä¸€ä¸ªéå¸¸å‰ç¥¥çš„æ¢¦å¢ƒï¼</strong><br><br>`;
            } else if (hasGood && !hasCaution) {
                narrative += `<strong>è¿™ä¸ªæ¢¦æ•´ä½“æ¥è¯´æ˜¯ç§¯æçš„ï¼Œå¸¦æœ‰æ­£é¢çš„é¢„å…†ã€‚</strong><br><br>`;
            } else if (hasCaution) {
                narrative += `<strong>è¿™ä¸ªæ¢¦å¢ƒåœ¨æé†’ä½ ä¸€äº›éœ€è¦æ³¨æ„çš„äº‹æƒ…ã€‚</strong><br><br>`;
            } else {
                narrative += `<strong>è¿™æ˜¯ä¸€ä¸ªæ„å‘³æ·±é•¿çš„æ¢¦å¢ƒã€‚</strong><br><br>`;
            }
            
            // Main interpretation
            narrative += `åœ¨ä½ çš„æ¢¦ä¸­ï¼Œ`;
            
            const symbolDescs = symbols.map(([key, data]) => {
                return `${data.emoji}<strong>${key}</strong>`;
            });
            
            if (symbolDescs.length === 1) {
                narrative += `å‡ºç°äº†${symbolDescs[0]}ã€‚`;
            } else if (symbolDescs.length === 2) {
                narrative += `å‡ºç°äº†${symbolDescs[0]}å’Œ${symbolDescs[1]}ã€‚`;
            } else {
                narrative += `å‡ºç°äº†${symbolDescs.slice(0, -1).join('ã€')}å’Œ${symbolDescs.slice(-1)}ã€‚`;
            }
            
            narrative += `<br><br>`;
            
            // Symbol explanations
            symbols.forEach(([key, data], idx) => {
                if (idx === 0) {
                    narrative += `${data.emoji} <strong>${key}</strong>åœ¨å‘¨å…¬è§£æ¢¦ä¸­${data.positive} `;
                } else {
                    narrative += `<br><br>${data.emoji} è€Œ<strong>${key}</strong>åˆ™${data.positive.charAt(0).toLowerCase()}${data.positive.slice(1)} `;
                }
            });
            
            // Combos
            if (combos.length > 0) {
                narrative += `<br><br>ç‰¹åˆ«å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ`;
                narrative += combos.join(' ');
            }
            
            // Concern connection
            if (concern) {
                narrative += `<br><br>ä½ æåˆ°æœ€è¿‘å…³å¿ƒã€Œ${concern}ã€ï¼Œè¿™ä¸ªæ¢¦å¯èƒ½ä¸æ­¤æœ‰å…³ã€‚`;
                if (hasGreat || hasGood) {
                    narrative += `æ¢¦å¢ƒçš„ç§¯æä¿¡å·å¯èƒ½é¢„ç¤ºç€è¿™æ–¹é¢ä¼šæœ‰å¥½çš„å‘å±•ã€‚`;
                } else if (hasCaution) {
                    narrative += `è¿™ä¸ªæ¢¦å¯èƒ½åœ¨æé†’ä½ åœ¨è¿™æ–¹é¢éœ€è¦æ›´åŠ è°¨æ…ã€‚`;
                }
            }
            
            // Psychology angle
            narrative += `<br><br>ä»å¿ƒç†å­¦è§’åº¦æ¥çœ‹ï¼Œ`;
            const psychSymbol = symbols[0];
            narrative += `${psychSymbol[1].psychology}`;
            
            return narrative;
        }

        function generateAdvice(symbols, fortuneLevel) {
            const adviceList = [];
            
            // Base advice from symbols
            symbols.slice(0, 3).forEach(([key, data]) => {
                if (data.advice) {
                    adviceList.push(`<li>${data.advice}</li>`);
                }
            });
            
            // Fortune-based advice
            if (fortuneLevel === 'great') {
                adviceList.push(`<li>å¥½è¿æ¥ä¸´ï¼æœ€è¿‘å¯ä»¥ç§¯æè¡ŒåŠ¨ï¼ŒæŠŠæ¡æœºä¼šã€‚</li>`);
            } else if (fortuneLevel === 'good') {
                adviceList.push(`<li>ä¿æŒç§¯æä¹è§‚çš„å¿ƒæ€ï¼Œå¥½äº‹ä¼šè‡ªç„¶æ¥ä¸´ã€‚</li>`);
            } else if (fortuneLevel === 'caution') {
                adviceList.push(`<li>å¤šåŠ ç•™æ„å‘¨å›´çš„äººå’Œäº‹ï¼Œè°¨æ…åšå†³å®šã€‚</li>`);
            }
            
            // Generic advice
            adviceList.push(`<li>è®°å½•ä¸‹è¿™ä¸ªæ¢¦ï¼Œçœ‹çœ‹æœªæ¥æ˜¯å¦ä¼šåº”éªŒã€‚</li>`);
            
            return adviceList.join('');
        }
    </script>
</body>
</html>
